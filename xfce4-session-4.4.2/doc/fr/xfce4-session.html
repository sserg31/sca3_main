<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Xfce 4 Session Manager</title><link rel="stylesheet" href="../xfce.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="#xfce4-session" title="Xfce 4 Session Manager"><link rel="next" href="#xfsm-intro" title="Introduction"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="article" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="xfce4-session"></a>Xfce 4 Session Manager</h1></div><div><div class="authorgroup"><div class="author"><h3 class="author"><span class="firstname">Benedikt</span> <span class="surname">Meurer</span></h3><div class="affiliation"><div class="address"><p><code class="email">&lt;<a href="mailto:benny@xfce.org">benny@xfce.org</a>&gt;</code></p></div><span class="orgname">os-cillation<br></span><span class="orgdiv">System development<br></span><span class="jobtitle">Software developer<br></span></div></div></div></div><div><span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="releaseinfo">
    <p xmlns=""> </p>
   Ce manuel décrit la version 4.2 de <strong xmlns="" class="application"><code>xfce4-session</code></strong>. Dernière mise à jour: November 2004
  <br></br></span></div><div><p class="copyright">Copyright © 2003, 2004 Benedikt Meurer</p></div><div><p class="copyright">Copyright © 2005 François Le Clainche (French 
   translation)</p></div><div><div class="legalnotice"><a name="legalnotice"></a><p>
      This document is provided under the terms of the GNU GPL, version
      2 or (at your option) any later version.
    </p></div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="#xfsm-intro">Introduction</a></span></dt><dt><span class="sect1"><a href="#xfce4-session-settings">Préférences du gestionnaire de session</a></span></dt><dd><dl><dt><span class="sect2"><a href="#xfsm-general-settings">Préférences générales</a></span></dt><dt><span class="sect2"><a href="#xfsm-advanced%20settings">Préférences avancées</a></span></dt></dl></dd><dt><span class="sect1"><a href="#xfsm-customize">Personnaliser le gestionnaire de session</a></span></dt><dd><dl><dt><span class="sect2"><a href="#xfsm-engines">Paramètres de l'écran de démarrage</a></span></dt><dt><span class="sect2"><a href="#xfsm-shutdown">Les options d'arrêt/redémarrage</a></span></dt></dl></dd><dt><span class="sect1"><a href="#xfsm-advanced">Avancé</a></span></dt><dd><dl><dt><span class="sect2"><a href="#files-and-env-vars">Fichiers et variables d'environnement</a></span></dt><dt><span class="sect2"><a href="#xfsm-kiosk-mode">Le mode Kiosk</a></span></dt></dl></dd><dt><span class="sect1"><a href="#xfsm-copyright">À propos de <strong class="application"><code>xfce4-session</code></strong></a></span></dt></dl></div><p> </p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="xfsm-intro"></a>Introduction</h2></div></div></div><p><strong class="application"><code>xfce4-session</code></strong> est un gestionnaire de session pour Xfce 4. Son rôle est de sauvegarder l'état de votre environnement 
  (les applications ouvertes et leur position) afin de les restaurer lors de la session suivante. Vous pouvez créer plusieurs 
  sessions et choisir parmi elles au démarrage.
  </p><p><strong class="application"><code>xfce4-session</code></strong> offre la gestion de session pour le protocole X11R6 ainsi que pour l'ancien protocole X11R5. 
  Si vous n'avez pas besoin du second, vous pouvez le désactiver au moment de la compilation en passant l'option 
  de configuration --disable-legacy-sm à ./configure. Ne lancez <span class="emphasis"><em>JAMAIS</em></span>  <strong class="application"><code>smproxy</code></strong> au cours d'une session gérée par <strong class="application"><code>xfce4-session</code></strong>, sinon des choses bizarres 
  se produiront. La gestion de session selon le protocole X11R5 inclut tout ce que <strong class="application"><code>smproxy</code></strong>
  ferait, avec en plus le support de l'affichage sur plusieurs moniteurs.</p></div><p> </p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="xfce4-session-settings"></a>Préférences du gestionnaire de session</h2></div></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="xfsm-general-settings"></a>Préférences générales</h3></div></div></div><div class="figure"><a name="xfsm-general-fig"></a><p class="title"><b>Figure 1. Préférences générales de <code class="application">xfce4-session</code></b></p><div class="screenshot"><div class="mediaobject"><img src="images/xfsm-general.png" alt="Montre l'onglet des préférences générales de xfce4-session"></div></div></div><div class="variablelist"><dl><dt><span class="term">Afficher le sélecteur de session à chaque connexion</span></dt><dd><p>Si cette option est sélectionnée, le gestionnaire de session vous demandera de choisir une session 
            à chacune des connexions à Xfce.</p></dd><dt><span class="term">Enregistrer automatiquement la session lors de la fermeture</span></dt><dd><p>Cette option indique au gestionnaire de session de sauvegarder automatiquement la session lors de 
          la déconnexion. Si vous ne sélectionnez pas cette option, la question vous sera posée à chaque fois.</p></dd><dt><span class="term">Demander à la déconnexion</span></dt><dd><p>Cette option désactive la fenêtre de confirmation de la déconnexion. La sauvegarde de la session 
          dépend alors du choix de l'option de sauvegarde automatique de la session.</p></dd></dl></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="xfsm-advanced settings"></a>Préférences avancées</h3></div></div></div><div class="figure"><a name="xfsm-advanced-fig"></a><p class="title"><b>Figure 2. Préférences avancées de <code class="application">xfce4-session</code></b></p><div class="screenshot"><div class="mediaobject"><img src="images/xfsm-advanced.png" alt="Montre l'onglet des préférences avancées de xfce4-session."></div></div></div><div class="variablelist"><dl><dt><span class="term">Charger les services Gnome au démarrage</span></dt><dd><p>Activer cette option si vous avez besoin d'exécuer le démon GNOME keyring au démarrage. Cette 
          option indique également à <strong class="application"><code>xfce4-session</code></strong> de lancer les technologies d'assistance de GNOME au démarrage (si elles 
          sont activées dans le centre de contrôle de GNOME). Consultez la documentation de GNOME pour plus 
          d'informations à ce sujet.</p></dd><dt><span class="term">Charger les services KDE au démarrage</span></dt><dd><p>Activez cette option si vous prévoyer de lancer des applications KDE au sein de votre session Xfce. 
          Cela augmentera sensiblement le temps de démarrage de Xfce, mais d'un autre côté, les applications KDE 
          démarreront plus rapidement. Certaines applications KDE peuvent ne pas fonctionner du tout si vous 
          n'activez pas cette option.</p></dd><dt><span class="term">Gérer le applications distantes</span></dt><dd><p>Autorise le gestionnaire de session à gérer les applications en cours de fonctionnement sur des 
          hôtes distants. Cette option peut représenter un risque en termes de sécurité, en activant un port TCP sur 
          votre système. Ne l'activez pas sans savoir ce que vous faites.</p><p>Les administrateurs système qui souhaitent désactiver cette option globalement peuvent pour cela 
          utiliser le mode <a href="#xfsm-kiosk-mode" target="_top">KIOSK</a>.</p></dd></dl></div></div></div><p> </p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="xfsm-customize"></a>Personnaliser le gestionnaire de session</h2></div></div></div><p>Vous pouvez personnaliser l'écran démarrage que <strong class="application"><code>xfce4-session</code></strong> affichera lors de la connexion à Xfce 4. Une fenêtre 
	de configuration dédiée est disponible depuis le <span class="emphasis"><em>gestionnaire de paramètres de Xfce 4</em></span>.</p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="xfsm-engines"></a>Paramètres de l'écran de démarrage</h3></div></div></div><div class="figure"><a name="splash-screen-settings-fig"></a><p class="title"><b>Figure 3. La fenêtre de paramétrage de l'écran de démarrage</b></p><div class="screenshot"><div class="mediaobject"><img src="images/xfsm-splash.png" alt="Montre la fenêtre de paramétrage de l'écran de démarrage de xfce4-session "></div></div></div><p>Sur la gauche, la fenêtre montre une liste de tous les moteurs de thème installés. Sélectionnez un moteur, 
    et vous verrez, si elle est disponible, une prévisualisation et des informations le concernant. Vous pouvez cliquer sur 
    le bouton <span><strong class="guibutton">Tester</strong></span> pour voir une démonstration du thème d'écran de démarrage 
    sélectionné.</p><p><strong class="application"><code>xfce4-session</code></strong> fournit par défaut trois moteurs de thème d'écran de démarrage. Leurs options de configuration 
    respectives - si disponibles - sont disponibles en cliquant sur le bouton <span><strong class="guibutton">Configurer</strong></span>.</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="xfsm-shutdown"></a>Les options d'arrêt/redémarrage</h3></div></div></div><p><strong class="application"><code>xfce4-session</code></strong> supporte l'arrêt de votre ordinateur lors de la déconnexion de la session. Pour cela, vous devez 
    être listé dans le fichier <code class="filename">sudoers</code> du système, et vous devez en particulier être autorisé 
    à exécuter la commande <code class="filename">${libexecdir}/xfsm-shutdown-helper</code>
    (<code class="filename">/usr/sbin/xfsm-shutdown-helper</code> sous Debian GNU/Linux)
    en tant qu'utilisateur root (où <code class="filename">${libexecdir}</code> est le sous répertoire <code class="filename">libexec</code> selon le préfixe utilisé pour installer <strong class="application"><code>xfce4-session</code></strong>, par exemple 
    <code class="filename">/usr/local/libexec</code>).</p><p>pas exemple, si vous avez installé <strong class="application"><code>xfce4-session</code></strong> dans <code class="filename">/usr/local</code>, que votre nom d'hôte est <span class="emphasis"><em>myhost</em></span>
    et que votre compte utilisateur est nommé<span class="emphasis"><em>myuser</em></span>, alors vous devez ajouter la ligne 
    suivante au fichier <code class="filename">sudoers</code> (souvenez-vous d'utiliser <strong class="application"><code>visudo</code></strong> 
    pour éditer ce fichier):</p><pre class="programlisting">
myuser myhost=/usr/local/libexec/xfsm-shutdown-helper
</pre></div></div><p> </p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="xfsm-advanced"></a>Avancé</h2></div></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="files-and-env-vars"></a>Fichiers et variables d'environnement</h3></div></div></div><p>Xfce utilise maintenant la spécification Basedir telle que définie sur <a href="http://freedesktop.org/" target="_top">Freedesktop.org</a> pour chercher ses données et ses fichiers de 
    configuration. Cela signifie que les emplacements de ces fichiers seront indiqués selon un chemin relatif aux 
    répertoires décrits dans cette spécification.</p><div class="variablelist"><dl><dt><span class="term">${XDG_CONFIG_HOME}</span></dt><dd><p>Le premier répertoire où il faut rechercher les fichiers de configuration. Par défaut, c'est 
          <code class="filename">~/.config/</code>.</p></dd><dt><span class="term">${XDG_CONFIG_DIRS}</span></dt><dd><p>Une liste des répertoires contenant des données de configuration. Par défaut, le panneau cherchera 
          dans <code class="filename">${sysconfdir}/xdg/</code> et 
          <code class="filename">/etc/xdg/</code>. La valeur de ${sysconfdir} dépend de la façon suivant 
          laquelle le programme a été compilé et sera souvent <code class="filename">/etc/</code> 
          pour les paquets binaires.
          packages.</p></dd><dt><span class="term">${XDG_CACHE_HOME}</span></dt><dd><p>Indique la racine de toutes les données en cache des utilisateurs. Si cette variable d'environnement 
          n'est pas renseignée, elle correspond par défaut à <code class="filename">~/.cache</code>.</p></dd><dt><span class="term">${XDG_CONFIG_DIRS}/xfce4-session/xfce4-session.rc</span></dt><dd><p>Ceci est l'emplacement du fichier de configuration qui contient les différents paramètres de <strong class="application"><code>xfce4-session</code></strong>, 
          qui peuvent être modifiés depuis le gestionnaire de paramètres.</p></dd><dt><span class="term">${XDG_CONFIG_DIRS}/xfce4-session/xfce4-splash.rc</span></dt><dd><p>Ceci est l'emplacement du fichier de configuration de l'écran de démarrage, qui peut être modifié depuis 
          le gestionnaire de paramètres.</p></dd><dt><span class="term">${XDG_CACHE_HOME}/sessions/</span></dt><dd><p>Le répertoire dans lequel <strong class="application"><code>xfce4-session</code></strong> et <strong class="application"><code>xfwm4</code></strong> enregistrent le données sur 
          les sessions.</p></dd><dt><span class="term">${sysconfdir}/xdg/xfce4/kiosk/kioskrc</span></dt><dd><p>Le fichier de configuration du mode Kiosk. Consultez <a href="#xfsm-kiosk-mode" target="_top">la section 
          suivante</a> pour une explication.</p></dd></dl></div><p>Aucun fichier de configuration, excepté le <code class="filename">kioskrc</code>,
    ne sont conçus pour être édités à la main au cours d'une session Xfce; en fait, les changement apportés seraient 
    écrasés par le gestionnaire de session ou le gestionnaire de paramètres s'ils sont en cours de fonctionnement.</p><p>les administrateurs système sont susceptibles de vouloir personnaliser le fichier 
    <code class="filename">${sysconfdir}/xdg/xfce4-session/xfce4-session.rc</code> afin de changer les applications lancées 
    par défaut au démarrage de Xfce. Par exemple, si vous souhautez lancer <strong class="application"><code>xfce4-iconbox</code></strong> 
    au lieu de <strong class="application"><code>xftaskbar4</code></strong>, vous devrez modifier la section <span class="emphasis"><em>[Failsafe
    Session]</em></span> pour qu'elle ressemble à cela:</p><pre class="programlisting">
[Failsafe Session]
Count=4
Client0_Command=xfwm4
Client0_PerScreen=False
Client1_Command=xfce4-panel
Client1_PerScreen=True
Client2_Command=xfce4-iconbox
Client2_PerScreen=True
Client3_Command=xfdesktop
Client3_PerScreen=False
</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="xfsm-kiosk-mode"></a>Le mode Kiosk</h3></div></div></div><p>Le gestionnaire de session supporte le mode Kiosk qui peut empêcher les utilisateurs de modifier les 
    paramètres de session. Pour l'utiliser, vous devez éditer ou créer le fichier 
    <code class="filename">${sysconfdir}/xdg/xfce4/kiosk/kioskrc</code>.</p><p>Le meilleur moyen d'expliquer le format utilisé dans ce fichier est de fournir un exemple. La section 
    xfce4-session de votre <code class="filename">kioskrc</code> peut ressembler à cela:</p><pre class="programlisting">
[xfce4-session]
CustomizeSplash=ALL
CustomizeChooser=ALL
CustomizeLogout=ALL
CustomizeCompatibility=%wheel
Shutdown=%wheel
CustomizeSecurity=NONE
</pre><p>Cela autorise tous les utilisateurs à modifier leur écran de démarrage, les paramètres du sélecteur de session 
    et de la fenêtre de déconnexion, mais n'autorise que les utilisateurs appartenant au goupe <span class="emphasis"><em>wheel</em></span> à modifier les paramètres de compatibilité et d'arrêt du système. Personne ne sera autorisé à modifier 
    les paramètres de sécurité.</p><p>Le gestionnaire de session supporte les fonctionnalités KIOSK suivantes:</p><div class="variablelist"><dl><dt><span class="term">CustomizeSplash</span></dt><dd><p>Détermine si l'utilisateur est autorisé à personnaliser l'écran de démarrage.</p></dd><dt><span class="term">CustomizeChooser</span></dt><dd><p>Détermine si l'utilisateur est autorisé à personnaliser les paramètres du sélecteur de session.</p></dd><dt><span class="term">CustomizeLogout</span></dt><dd><p>Détermine si l'utilisateur est autorisé à modifier les paramètres de déconnexion.</p></dd><dt><span class="term">CustomizeCompatibility</span></dt><dd><p>Détermine si l'utilisateur est autorisé à modifier les paramètres de compatibilité 
          (avec KDE/Gnome)</p></dd><dt><span class="term">CustomizeSecurity</span></dt><dd><p>Détermine si l'utilisateur est autorisé à modifier les paramètres de sécurité.
          Ceci est l'un des paramètres les plus <span class="emphasis"><em>IMPORTANTS</em></span>, puisqu'il empêche 
          les utilisateurs (en fait, <code class="filename">libICE</code>) à ouvrir un port TCP.</p></dd><dt><span class="term">Shutdown</span></dt><dd><p>Détermine si l'utilisateur est autorisé à éteindre (ou redémarrer) le système. Si un utilisateur n'y est 
          pas autorisé, les options correspondantes seront grisées dans sa fenêtre de déconnexion.</p></dd></dl></div></div></div><p> </p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="xfsm-copyright"></a>À propos de <strong class="application"><code>xfce4-session</code></strong></h2></div></div></div><p><strong class="application"><code>xfce4-session</code></strong> a été écrit par Benedikt Meurer 
  (<code class="email">&lt;<a href="mailto:benny@xfce.org">benny@xfce.org</a>&gt;</code>).
    Pour obtenir plus d'informations, visitez le 
    <a href="http://www.xfce.org" target="_top">site officiel de Xfce</a>. 
  </p><p>Pour signaler un bogue ou faire une suggestion concernant cette application ou ce manuel, utilisez le 
  gestionnaire de bogues à l'adresse suivante <a href="http://bugzilla.xfce.org/" target="_top">http://bugzilla.xfce.org/</a>. 
  </p><p>Si vous avez des questions à propos de l'installation ou de l'utilisation de ce programme, merci de les poser 
  sur la liste de diffusion de <a href="http://lunar-linux.org/mailman/listinfo/xfce" target="_top">xfce</a>. Les discussions sur le développement de Xfce ont lieu sur la liste de diffusion 
      <a href="http://lunar-linux.org/mailman/listinfo/xfce4-dev" target="_top">xfce4-dev</a>.
  </p><p> This program is distributed under the terms of the
    GNU General Public License as published by the Free Software Foundation; 
    either version 2 of the License, or (at your option) any later version.
  </p><p>You should have received a copy of the GNU General Public License 
    along with this program; if not, write to the Free Software 
    Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, 
    USA.
  </p></div></div></body></html>
